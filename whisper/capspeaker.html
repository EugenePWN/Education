<!DOCTYPE html>
<html lang="ru">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="whtmlidth=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Online Education</title>
	<style>
		body {
			font-family: sans-serif;
			font-size: 14px;
			color: #111;
			padding: 0 0 1em 0;
			background-color: #efe7dd;
		}

		table {
			border-spacing: 10px;
		}

		th {
			text-align: left;
		}

		.lt {
			color: inherit;
			text-decoration: inherit;
		}

		.l {
			color: #050;
		}

		.s {
			display: inline-block;
		}

		.c {
			display: inline-block;
		}

		.e {
			/*background-color: white; Changing background color */
			border-radius: 10px;
			/* Making border radius */
			width: 50%;
			/* Making auto-sizable width */
			padding: 0 0 0 0;
			/* Making space around letters */
			font-size: 14px;
			/* Changing font size */
			margin-bottom: 0;
		}

		.t {
			display: inline-block;
		}

		#player-div {
			position: sticky;
			top: 20px;
			float: right;
			width: 40%
		}

		#player {
			aspect-ratio: 16 / 9;
			width: 100%;
			height: auto;
		}

		a {
			display: inline;
		}
	</style>
	<script>
	window.onload = function () {
			var player = document.getElementById("audio_player");
			var player;
			var lastword = null;

			// So we can compare against new updates.
			var lastTimeUpdate = "-1";

			setInterval(function () {
				// currentTime is checked very frequently (1 millisecond),
				// but we only care about whole second changes.
				var ts = (player.currentTime).toFixed(1).toString();
				ts = (Math.round((player.currentTime) * 5) / 5).toFixed(1);
				ts = ts.toString();
				console.log(ts);
				if (ts !== lastTimeUpdate) {
					lastTimeUpdate = ts;

					// Its now up to you to format the time.
					word = document.getElementById(ts)
					if (word) {
						if (lastword) {
							lastword.style.fontWeight = "normal";
						}
						lastword = word;
						//word.style.textDecoration = "underline";
						word.style.fontWeight = "bold";

						let toggle = document.getElementById("autoscroll");
						if (toggle.checked) {
							let position = word.offsetTop - 20;
							window.scrollTo({
								top: position,
								behavior: "smooth"
							});
						}
					}
				}
			}, 0.1);
		}

		function jumptoTime(timepoint, id) {
			var player = document.getElementById("audio_player");
			history.pushState(null, null, "#" + id);
			player.pause();
			player.currentTime = timepoint;
			player.play();
		}
		</script>
	</head>

<body>
	<h2>Online Education</h2>
	<i>Click on a part of the transcription, to jump to its portion of audio, and get an anchor to it in the address
		bar<br><br></i>
	<div id="player-div">
		<div id="player">
			<audio controls="controls" id="audio_player">
				<source src="input.wav" />
			</audio>
		</div>
		<div><label for="autoscroll">auto-scroll: </label>
			<input type="checkbox" id="autoscroll" checked>
		</div>
	</div>
<div class="e" style="background-color: #e1ffc7">
<p  style="margin:0;padding: 5px 10px 10px 10px;word-wrap:normal;white-space:normal;">
<span style="color:darkgreen;font-weight: bold;">Teacher</span><br>
				<a href="#00:00:003.30" id="3.2" class="lt" onclick="jumptoTime(3, this.id)"> Добрый</a><!--
				--><a href="#00:00:003.64" id="3.6" class="lt" onclick="jumptoTime(3, this.id)"> день.</a><!--
				--><a href="#00:00:005.78" id="5.8" class="lt" onclick="jumptoTime(5, this.id)"> Здравствуйте.</a><!--
				--><a href="#00:00:007.42" id="7.4" class="lt" onclick="jumptoTime(7, this.id)"> Я</a><!--
				--><a href="#00:00:007.68" id="7.6" class="lt" onclick="jumptoTime(7, this.id)"> слышу,</a><!--
				--><a href="#00:00:008.06" id="8.0" class="lt" onclick="jumptoTime(8, this.id)"> хорошо?</a><!--
				--><a href="#00:00:009.30" id="9.2" class="lt" onclick="jumptoTime(9, this.id)"> Да,</a><!--
				--><a href="#00:00:009.76" id="9.8" class="lt" onclick="jumptoTime(9, this.id)"> хорошо.</a><!--
				--><a href="#00:00:012.24" id="12.2" class="lt" onclick="jumptoTime(12, this.id)"> Как</a><!--
				--><a href="#00:00:012.94" id="13.0" class="lt" onclick="jumptoTime(12, this.id)"> твои</a><!--
				--><a href="#00:00:013.12" id="13.2" class="lt" onclick="jumptoTime(13, this.id)"> дела?</a><!--
				--><a href="#00:00:014.40" id="14.4" class="lt" onclick="jumptoTime(14, this.id)"> Нормально.</a><!--
				--><a href="#00:00:016.06" id="16.0" class="lt" onclick="jumptoTime(16, this.id)"> Хорошо,</a><!--
				--><a href="#00:00:016.84" id="16.8" class="lt" onclick="jumptoTime(16, this.id)"> хорошо.</a><!--
				--><a href="#00:00:018.16" id="18.2" class="lt" onclick="jumptoTime(18, this.id)"> Так,</a><!--
				--><a href="#00:00:019.62" id="19.6" class="lt" onclick="jumptoTime(19, this.id)"> какие</a><!--
				--><a href="#00:00:020.20" id="20.2" class="lt" onclick="jumptoTime(20, this.id)">-то</a><!--
				--><a href="#00:00:020.28" id="20.2" class="lt" onclick="jumptoTime(20, this.id)"> новости,</a><!--
				--><a href="#00:00:020.66" id="20.6" class="lt" onclick="jumptoTime(20, this.id)"> может,</a><!--
				--><a href="#00:00:020.96" id="21.0" class="lt" onclick="jumptoTime(20, this.id)"> были?</a><!--
				--></p>
</div>
<div class="e" style="background-color: white">
<p  style="margin:0;padding: 5px 10px 10px 10px;word-wrap:normal;white-space:normal;">
<span style="color:darkorange;font-weight: bold;">Student</span><br>
				<a href="#00:00:020.11" id="20.2" class="lt" onclick="jumptoTime(20, this.id)"> какие</a><!--
				--><a href="#00:00:020.21" id="20.2" class="lt" onclick="jumptoTime(20, this.id)">-то</a><!--
				--><a href="#00:00:020.29" id="20.2" class="lt" onclick="jumptoTime(20, this.id)"> новости</a><!--
				--><a href="#00:00:020.61" id="20.6" class="lt" onclick="jumptoTime(20, this.id)"> можно.</a><!--
				--></p>
</div>
<div class="e" style="background-color: #e1ffc7">
<p  style="margin:0;padding: 5px 10px 10px 10px;word-wrap:normal;white-space:normal;">
<span style="color:darkgreen;font-weight: bold;">Teacher</span><br>
				<a href="#00:00:023.26" id="23.2" class="lt" onclick="jumptoTime(23, this.id)"> Эй,</a><!--
				--><a href="#00:00:023.50" id="23.6" class="lt" onclick="jumptoTime(23, this.id)"> каких?</a><!--
				--><a href="#00:00:027.48" id="27.4" class="lt" onclick="jumptoTime(27, this.id)"> Помнишь,</a><!--
				--><a href="#00:00:028.24" id="28.2" class="lt" onclick="jumptoTime(28, this.id)"> на</a><!--
				--><a href="#00:00:028.30" id="28.4" class="lt" onclick="jumptoTime(28, this.id)"> чем</a><!--
				--><a href="#00:00:028.40" id="28.4" class="lt" onclick="jumptoTime(28, this.id)"> мы</a><!--
				--><a href="#00:00:028.56" id="28.6" class="lt" onclick="jumptoTime(28, this.id)"> остановились?</a><!--
				--><a href="#00:00:031.86" id="31.8" class="lt" onclick="jumptoTime(31, this.id)"> Я</a><!--
				--><a href="#00:00:032.22" id="32.2" class="lt" onclick="jumptoTime(32, this.id)"> не</a><!--
				--><a href="#00:00:032.32" id="32.4" class="lt" onclick="jumptoTime(32, this.id)"> шежу,</a><!--
				--><a href="#00:00:033.04" id="33.0" class="lt" onclick="jumptoTime(33, this.id)"> нет.</a><!--
				--><a href="#00:00:034.46" id="34.4" class="lt" onclick="jumptoTime(34, this.id)"> Созвони,</a><!--
				--><a href="#00:00:035.18" id="35.2" class="lt" onclick="jumptoTime(35, this.id)"> не</a><!--
				--><a href="#00:00:035.86" id="35.8" class="lt" onclick="jumptoTime(35, this.id)"> поможешь?</a><!--
				--><a href="#00:00:037.40" id="37.4" class="lt" onclick="jumptoTime(37, this.id)"> Так,</a><!--
				--><a href="#00:00:037.86" id="37.8" class="lt" onclick="jumptoTime(37, this.id)"> вот.</a><!--
				--><a href="#00:00:038.80" id="38.8" class="lt" onclick="jumptoTime(38, this.id)"> Когда</a><!--
				--><a href="#00:00:039.18" id="39.2" class="lt" onclick="jumptoTime(39, this.id)"> новый</a><!--
				--><a href="#00:00:039.42" id="39.4" class="lt" onclick="jumptoTime(39, this.id)"> проект</a><!--
				--><a href="#00:00:039.72" id="39.8" class="lt" onclick="jumptoTime(39, this.id)"> будем</a><!--
				--><a href="#00:00:039.94" id="40.0" class="lt" onclick="jumptoTime(39, this.id)"> делать?</a><!--
				--><a href="#00:00:043.64" id="43.6" class="lt" onclick="jumptoTime(43, this.id)"> Да,</a><!--
				--><a href="#00:00:044.62" id="44.6" class="lt" onclick="jumptoTime(44, this.id)"> наверное.</a><!--
				--><a href="#00:00:046.00" id="46.0" class="lt" onclick="jumptoTime(46, this.id)"> Давай.</a><!--
				--><a href="#00:00:046.76" id="46.8" class="lt" onclick="jumptoTime(46, this.id)"> Какой</a><!--
				--><a href="#00:00:047.10" id="47.2" class="lt" onclick="jumptoTime(47, this.id)"> темный</a><!--
				--><a href="#00:00:047.40" id="47.4" class="lt" onclick="jumptoTime(47, this.id)"> будет?</a><!--
				--><a href="#00:00:051.16" id="51.2" class="lt" onclick="jumptoTime(51, this.id)"> Зомби.</a><!--
				--></p>
</div>
<div class="e" style="background-color: #e1ffc7">
<p  style="margin:0;padding: 5px 10px 10px 10px;word-wrap:normal;white-space:normal;">
<span style="color:darkgreen;font-weight: bold;">Teacher</span><br>
				<a href="#00:00:056.06" id="56.0" class="lt" onclick="jumptoTime(56, this.id)"> Или</a><!--
				--><a href="#00:00:056.24" id="56.2" class="lt" onclick="jumptoTime(56, this.id)"> я</a><!--
				--><a href="#00:00:056.46" id="56.4" class="lt" onclick="jumptoTime(56, this.id)"> не</a><!--
				--><a href="#00:00:056.60" id="56.6" class="lt" onclick="jumptoTime(56, this.id)"> знаю,</a><!--
				--><a href="#00:00:057.02" id="57.0" class="lt" onclick="jumptoTime(57, this.id)"> что</a><!--
				--><a href="#00:00:057.20" id="57.2" class="lt" onclick="jumptoTime(57, this.id)"> можно</a><!--
				--><a href="#00:00:057.64" id="57.6" class="lt" onclick="jumptoTime(57, this.id)"> ещё</a><!--
				--><a href="#00:00:057.94" id="58.0" class="lt" onclick="jumptoTime(57, this.id)"> сделать?</a><!--
				--><a href="#00:00:059.34" id="59.4" class="lt" onclick="jumptoTime(59, this.id)"> Промезали?</a><!--
				--><a href="#00:01:001.32" id="61.4" class="lt" onclick="jumptoTime(61, this.id)"> Да?</a><!--
				--><a href="#00:01:001.90" id="62.0" class="lt" onclick="jumptoTime(61, this.id)"> Промезали?</a><!--
				--></p>
</div>
	</body>
</html>